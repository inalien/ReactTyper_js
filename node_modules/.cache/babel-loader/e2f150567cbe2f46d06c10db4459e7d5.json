{"ast":null,"code":"import _slicedToArray from\"/Users/inalien/Documents/InalienProjects/typer-js/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useCallback,useEffect}from\"react\";import\"./typer_style.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Typer=function Typer(props){var loop=props.loop,speed=props.speed,delay=props.delay,words=props.words;var _useState=useState(0),_useState2=_slicedToArray(_useState,2),counter=_useState2[0],setCounter=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),text=_useState4[0],setText=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),isDeleting=_useState6[0],setIsDeleting=_useState6[1];// Typing speed, where the speed includes the speed of typing words, the speed of deleting words, and the speed of delay, which are used as the interval parameter of each round of setTimeout, and the default is 100 when you start typing.\nvar _useState7=useState(100),_useState8=_slicedToArray(_useState7,2),typingSpeed=_useState8[0],setTypingSpeed=_useState8[1];var handleTyping=useCallback(function(){// If it is loop, use module to find a word in the list of words each time\n// Otherwise keep the same as counter, because if there is no loop, counter will also stop counting at the end, and index will stop at the end\nvar index=loop?counter%words.length:counter;var fullWord=words[index];if(isDeleting){// Set the delete speed to twice the typing speed\nsetTypingSpeed(speed/2);// Set the letter to be deleted from the right, by intercepting the current each time (one letter less than the previous word)\nsetText(fullWord.substring(0,text.length-1));// If all deletions have been completed at this time, start a new round\nif(text===\"\"){setIsDeleting(false);setCounter(counter+1);}}else{setTypingSpeed(speed);// Set to start typing from left to right\nsetText(fullWord.substring(0,text.length+1));// if all letters have been typed\nif(text===fullWord){if(!loop&&counter>=words.length-1){// if there is no loop, exit\nreturn;}setIsDeleting(true);setTypingSpeed(delay);}}},[counter,delay,isDeleting,loop,speed,text,words]);useEffect(function(){var timer=setTimeout(function(){handleTyping();},typingSpeed);return function(){return clearTimeout(timer);};},[handleTyping,typingSpeed]);return/*#__PURE__*/_jsxs(\"span\",{children:[/*#__PURE__*/_jsx(\"span\",{children:text}),/*#__PURE__*/_jsx(\"span\",{className:\"blinking-cursor\",children:\"|\"})]});};export default Typer;","map":{"version":3,"sources":["/Users/inalien/Documents/InalienProjects/typer-js/src/Typer/typerEffect.js"],"names":["React","useState","useCallback","useEffect","Typer","props","loop","speed","delay","words","counter","setCounter","text","setText","isDeleting","setIsDeleting","typingSpeed","setTypingSpeed","handleTyping","index","length","fullWord","substring","timer","setTimeout","clearTimeout"],"mappings":"uIAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,WAA1B,CAAuCC,SAAvC,KAAwD,OAAxD,CACA,MAAO,mBAAP,C,wFAEA,GAAMC,CAAAA,KAAK,CAAG,QAARA,CAAAA,KAAQ,CAACC,KAAD,CAAW,CACvB,GAAQC,CAAAA,IAAR,CAAsCD,KAAtC,CAAQC,IAAR,CAAcC,KAAd,CAAsCF,KAAtC,CAAcE,KAAd,CAAqBC,KAArB,CAAsCH,KAAtC,CAAqBG,KAArB,CAA4BC,KAA5B,CAAsCJ,KAAtC,CAA4BI,KAA5B,CACA,cAA8BR,QAAQ,CAAC,CAAD,CAAtC,wCAAOS,OAAP,eAAgBC,UAAhB,eACA,eAAwBV,QAAQ,CAAC,EAAD,CAAhC,yCAAOW,IAAP,eAAaC,OAAb,eACA,eAAoCZ,QAAQ,CAAC,KAAD,CAA5C,yCAAOa,UAAP,eAAmBC,aAAnB,eAEA;AACA,eAAsCd,QAAQ,CAAC,GAAD,CAA9C,yCAAOe,WAAP,eAAoBC,cAApB,eAEA,GAAMC,CAAAA,YAAY,CAAGhB,WAAW,CAAC,UAAM,CACrC;AACA;AAEA,GAAMiB,CAAAA,KAAK,CAAGb,IAAI,CAAGI,OAAO,CAAGD,KAAK,CAACW,MAAnB,CAA4BV,OAA9C,CACA,GAAMW,CAAAA,QAAQ,CAAGZ,KAAK,CAACU,KAAD,CAAtB,CAEA,GAAIL,UAAJ,CAAgB,CACd;AACAG,cAAc,CAACV,KAAK,CAAG,CAAT,CAAd,CAEA;AACAM,OAAO,CAACQ,QAAQ,CAACC,SAAT,CAAmB,CAAnB,CAAsBV,IAAI,CAACQ,MAAL,CAAc,CAApC,CAAD,CAAP,CAEA;AACA,GAAIR,IAAI,GAAK,EAAb,CAAiB,CACfG,aAAa,CAAC,KAAD,CAAb,CACAJ,UAAU,CAACD,OAAO,CAAG,CAAX,CAAV,CACD,CACF,CAZD,IAYO,CACLO,cAAc,CAACV,KAAD,CAAd,CAEA;AACAM,OAAO,CAACQ,QAAQ,CAACC,SAAT,CAAmB,CAAnB,CAAsBV,IAAI,CAACQ,MAAL,CAAc,CAApC,CAAD,CAAP,CAEA;AACA,GAAIR,IAAI,GAAKS,QAAb,CAAuB,CACrB,GAAI,CAACf,IAAD,EAASI,OAAO,EAAID,KAAK,CAACW,MAAN,CAAe,CAAvC,CAA0C,CACxC;AACA,OACD,CACDL,aAAa,CAAC,IAAD,CAAb,CACAE,cAAc,CAACT,KAAD,CAAd,CACD,CACF,CACF,CAnC+B,CAmC7B,CAACE,OAAD,CAAUF,KAAV,CAAiBM,UAAjB,CAA6BR,IAA7B,CAAmCC,KAAnC,CAA0CK,IAA1C,CAAgDH,KAAhD,CAnC6B,CAAhC,CAqCAN,SAAS,CAAC,UAAM,CACd,GAAMoB,CAAAA,KAAK,CAAGC,UAAU,CAAC,UAAM,CAC7BN,YAAY,GACb,CAFuB,CAErBF,WAFqB,CAAxB,CAIA,MAAO,kBAAMS,CAAAA,YAAY,CAACF,KAAD,CAAlB,EAAP,CACD,CANQ,CAMN,CAACL,YAAD,CAAeF,WAAf,CANM,CAAT,CAQA,mBACE,qCACE,sBAAOJ,IAAP,EADF,cAEE,aAAM,SAAS,CAAC,iBAAhB,eAFF,GADF,CAMD,CA5DD,CA8DA,cAAeR,CAAAA,KAAf","sourcesContent":["import React, { useState, useCallback, useEffect } from \"react\";\nimport \"./typer_style.css\";\n\nconst Typer = (props) => {\n  const { loop, speed, delay, words } = props;\n  const [counter, setCounter] = useState(0);\n  const [text, setText] = useState(\"\");\n  const [isDeleting, setIsDeleting] = useState(false);\n\n  // Typing speed, where the speed includes the speed of typing words, the speed of deleting words, and the speed of delay, which are used as the interval parameter of each round of setTimeout, and the default is 100 when you start typing.\n  const [typingSpeed, setTypingSpeed] = useState(100);\n\n  const handleTyping = useCallback(() => {\n    // If it is loop, use module to find a word in the list of words each time\n    // Otherwise keep the same as counter, because if there is no loop, counter will also stop counting at the end, and index will stop at the end\n\n    const index = loop ? counter % words.length : counter;\n    const fullWord = words[index];\n\n    if (isDeleting) {\n      // Set the delete speed to twice the typing speed\n      setTypingSpeed(speed / 2);\n\n      // Set the letter to be deleted from the right, by intercepting the current each time (one letter less than the previous word)\n      setText(fullWord.substring(0, text.length - 1));\n\n      // If all deletions have been completed at this time, start a new round\n      if (text === \"\") {\n        setIsDeleting(false);\n        setCounter(counter + 1);\n      }\n    } else {\n      setTypingSpeed(speed);\n\n      // Set to start typing from left to right\n      setText(fullWord.substring(0, text.length + 1));\n\n      // if all letters have been typed\n      if (text === fullWord) {\n        if (!loop && counter >= words.length - 1) {\n          // if there is no loop, exit\n          return;\n        }\n        setIsDeleting(true);\n        setTypingSpeed(delay);\n      }\n    }\n  }, [counter, delay, isDeleting, loop, speed, text, words]);\n\n  useEffect(() => {\n    const timer = setTimeout(() => {\n      handleTyping();\n    }, typingSpeed);\n\n    return () => clearTimeout(timer);\n  }, [handleTyping, typingSpeed]);\n\n  return (\n    <span>\n      <span>{text}</span>\n      <span className=\"blinking-cursor\">|</span>\n    </span>\n  );\n};\n\nexport default Typer;\n"]},"metadata":{},"sourceType":"module"}